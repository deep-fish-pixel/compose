!function(){"use strict";function a(b,c,d){var e=Object.prototype.toString,f="[object Array]";b=b||{};for(var g in c)d===!0&&c.hasOwnProperty(g)&&"object"==typeof c[g]?(b[g]||(b[g]=e.call(c[g])===f?[]:{}),a(b[g],c[g])):b[g]=c[g];return b}function b(a,b){a&&"undefined"!=typeof a.onload?a.onload=function(){this.onload=null,b()}:a&&(a.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&(this.onreadystatechange=null,b())})}function c(a){return a&&"object"==typeof a&&Array==a.constructor}function d(a){if(a){var b,c=a.match(/^\s*(\S*)\s*$/);if(c)return b=c[1].match(/(.*)\?+$/),b?b[1]:c[1]}return a}var e=function(){function a(){for(var a=0;a<b.length;a++)b[a]();b=null}document.all?window.attachEvent("onload",a):window.addEventListener("load",a,!1);var b=[];return{on:function(a){b?b.push(a):a()}}}(),f={_config:{basePath:"",contextPath:!1,paths:{}},_process:[],_satisfies:[],_completedPaths:{},_onLoadEvents:[],_delayer:{time:0,used:!1,push:function(a,b){var c=this;this.used=!0,this._callback=function(){a&&a(),c._timer=null,c._callback=null},this.time=b||0,this._timer=setTimeout(this._callback,this.time)},delay:function(a){this._timer&&clearTimeout(this._timer),this._callback&&(void 0!==a&&(this._timer=a),this._timer=setTimeout(this._callback,this.time))}},initConfig:function(){for(var a,b,c,d,e,f=this._config,g=document.getElementsByTagName("script"),h=g.length,i=0;h>i;i++)if(a=g[i],b=a.getAttribute("data-contextpath")||"",c=a.getAttribute("data-dependonload")||"",d=a.getAttribute("data-basepath")||"",e=a.getAttribute("data-param")||"",b||c||d){f.contextPath=b?b+"/":"",f.dependOnload=c,f.basePath=d,f.param=e;break}},config:function(b){var c=this._config;a(c,b,!0),c.contextPath=c.contextPath||"",c.dependOnload=c.dependOnload||"",c.basePath=c.basePath||"",c.param=c.param||""},getContext:function(a){return this._config.contextPath},require:function(a,b,d,e){return this._delayer.delay(),(c(a)||"function"==typeof a)&&(e=d,d=b,b=a,a=null),"function"==typeof b&&(e=d,d=b,b=[]),d&&"string"!=typeof d||(d=function(){}),e===!0&&(e=null),b._existObjectNames=e||[],b.pathId=a,b.callback=d,b.contextPath=this._config.contextPath,b.param=this._config.param,b.basePath=this._config.basePath,1==this.isWaitingForChild()?(b.parent=this._handlingRequire,b=this.preHandleRequires(b),void this.handleRequires()):this._handlingRequire&&this._handlingRequire.parent?(b.parent=this._handlingRequire.parent,void(b=this.preHandleRequires(b))):(b=this.preHandleRequires(b),void(this._handling||this.handleRequires()))},satisfy:function(a){var b=this._onLoadEvents.shift(),c=this._handlingRequire;b!==c&&b&&b._process.length||(b&&b._process.length&&this.setWaitingForChild(!1),c?(a?c.resourceObject=a:c.resourceObject||this.checkAndSetObjectByName(c),this.excCompleteAndExcNext(c)):this._satisfies.push({value:a}))},preHandleRequires:function(a){for(var b,c,d,e,f,g=(a.length,a.callback),h=a.pathId,i=a._existObjectNames,j=a.parent?a.parent._process:this._process,k=a.parent?a.parent._satisfies:this._satisfies,l=j.length,m=/\.js$|\.js\?/,n=[],o=0,l=0;l<j.length;l++)o+=j[l].length;for(var p=0;p<=a.length;p++){if(b=a[p],c=b&&b.match(/\.css$/)?"css":"js",d=k[o+p],f=d&&d.value,e={type:c,handled:d?!0:!1,j:p,i:l,parent:a.parent,resourceObject:f,resourceObjectPath:i[p],_process:[],_satisfies:[]},b){var q=this._config.paths[b];q?(e.path=q&&q.match(m)?q:q+".js",e.resourceObjectPath=b):this.handlePath(e,b,a)}p==a.length&&(e.callback=g,h&&this.handlePath(e,h,a)),d&&(this._completedPaths[e.path]=e),n.push(e)}return h&&this.handlePath(n,h,a),j.push(n),n},handlePath:function(a,b,c){var e=c.basePath,f=c.contextPath,g=c.param,h=/\.js$|\.js\?/;b=d(b),b.match(/\.css$/)?a.path=f?f+"/"+b:b:a.path=f+e+"/"+(b.match(h)?b:b+".js"),a.path&&g&&(a.path+=a.path.match(/\.js\?/)?a.path.match(/\?$/)?g:"&"+g:"?"+g)},handleRequires:function(){this._handling=!0;var a,b,c=this.getNextRequire(this._handlingRequire),d=c&&c.i||0,e=c&&c.j||0,f=c&&c.parent&&c.parent._process?c.parent._process:this._process;if(!c&&this._handlingRequire)return void(this._handling=!1);for(var g=d;g<f.length;g++){a=f[g];var h=0;for(g==d&&(h=e);h<a.length;h++){if(this.setHandlingRequire(b=a[h]),b.resourceObject||this.checkAndSetObjectByName(b),!b.handled&&b.callback)return void this.checkComplete(b);if(!b.handled)return void this.handleRequire(b)}}a&&a.length||this.checkComplete({i:d,j:e})},handleRequire:function(a){if(!a||!a.parent&&a.handled)return void(this._handling=!1);if(this.checkAndSetObjectByName(a),!a.handled&&a.callback)this.checkComplete(a);else if(!a.path||a.resourceObject||1==a.handled&&"css"===a.type)this.excCompleteAndExcNext(a);else{var c,d=this,f=this._config;"css"===a.type?(c=document.createElement("link"),c.setAttribute("type","text/css"),c.setAttribute("rel","stylesheet"),c.setAttribute("href",a.path)):(c=document.createElement("script"),c.setAttribute("type","text/javascript"),c.setAttribute("src",a.path),c.setAttribute("data-basepath",f.basePath)),c.setAttribute("data-contextpath",f.contextPath),c.setAttribute("data-dependonload",f.dependOnload),this._config.dependOnload&&b(c,function(){d.satisfy(null)});var g=document.head||document.getElementsByTagName("head")[0];this._onLoadEvents.push(a);var d=this;e.on(function(){d.setWaitingForChild(!0),g.appendChild(c)})}},excCompleteAndExcNext:function(a){a.handled=!0;var b=this.excCompleteAnGetNext(a);b&&this.setHandlingRequire(b),this.handleRequire(b)},excCompleteAnGetNext:function(a){return this.checkComplete(a),this.getNextRequire(a)},getNextRequire:function(a){if(a){if(a._process&&a._process.length)for(var b=a._process,c=b.length,d=0;c>d;d++)if(!b[d]._called)return b[d][0];var d=a.i,e=a.j,b=a.parent&&a.parent._process?a.parent._process:this._process,f=b[a.i];if(!f)return a;if(e==f.length-1||0==e&&0==f.length){if(d+=1,e=0,f=b[d],!f&&a.parent)return this.checkComplete(a.parent),this.getNextRequire(a.parent)}else e+=1;var g=b[d]&&b[d][e];return g}},checkComplete:function(a){if(a){this._handling=!0;var b=a.i,c=a.j,d=a.parent&&a.parent._process?a.parent._process:this._process,e=d[a.i];if(e&&(0==e.length||c==e.length-1)){if(a._process&&a._process.length)for(var d=a._process,f=d.length,b=0;f>b;b++)if(!d[b]._called)return;if(!e._called){for(var g,h=[],f=e.length,b=0;f-1>b;b++)g=e[b].resourceObject,g||(g=this.checkAndSetObjectByName(e[b])),h.push(g);var i=a.callback.apply(window,h);if(a.resourceObject=i,a.handled=!0,e.path&&(this._completedPaths[a.path]=a),a.parent?(a.parent.resourceObject=i,a.parent.handled=!0,(e||a.parent._process[0])._called=!0):this._process[a.i]._called=!0,a!==this._handlingRequire)return;a.parent?(this.setHandlingRequire(a.parent),a.parent.callback||this.setWaitingForChild(!0),this.excCompleteAndExcNext(a.parent)):this.handleRequires()}}}},checkAndSetObjectByName:function(a){var b=this._completedPaths[a.path],c=a.resourceObjectPath,d=d;if(a.resourceObject)return a.resourceObject;if(b){if(d=b.resourceObject)return a.resourceObject=d,a.handled=!0,d}else!b&&a.path&&(this._completedPaths[a.path]=a);if(!c)return void 0;for(var e,f=c.split("."),g=f.length,h=window,i=0;g>i;i++)e=f[i],(0!=i||"window"!=e)&&(h=h&&h[e]);return h?(a.resourceObject=h,a.handled=!0,this._completedPaths[a.path]||(this._completedPaths[a.path]=a),h):void 0},setWaitingForChild:function(a){this._handlingRequire&&(this._handlingRequire.waitingForChild=a)},isWaitingForChild:function(a){var b=a||this._handlingRequire;return b&&b.waitingForChild},setHandlingRequire:function(a){this.setWaitingForChild(!1),this._handlingRequire=a,a&&a.callback&&this.setWaitingForChild(!1)}};f.initConfig(),window.compose=f}();